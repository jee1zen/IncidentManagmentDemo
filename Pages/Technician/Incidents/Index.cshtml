@page
@model IncidentManagmentDemo.Pages.Technician.Incidents.IndexModel
@{
}
<link href="@Url.Content("/css/Incidents.css")" rel="stylesheet" />


<section class="light">
	<div class="container py-2">
		<div class="h1 text-center text-dark" id="pageHeaderTitle">Incidents Reported</div>
		@foreach(var incident in Model.Incidents)
{
		<article class="postcard light blue">
			<a class="postcard__img_link" href="#">
				<img class="postcard__img" src="/incidents/@incident.Image" alt="Image Title" />
			</a>
			<div class="postcard__text t-dark">
				<h1 class="postcard__title blue"><a href="#">@incident.Title</a></h1>
				<div class="postcard__subtitle small">
					<time datetime="2020-05-25 12:00:00">
						<i class="fas fa-calendar-alt mr-2"></i>@incident.Reported
					</time>
				</div>
				<div class="postcard__bar"></div>
				<div class="postcard__preview-txt">@incident.Details</div>
				<form method="post">
						<ul class="postcard__tagbox">
							<input type="hidden" value="@incident.Id" name="Id"/>
							@if (incident.Status == 0)
							{
								<button type="submit" asp-page-handler="InvestigationClicked" class="tag__item">Start Investigation</button>
							}
							@if (incident.Status == 1)
							{
								<button type="submit" asp-page-handler="InvestigationClicked" class="tag__item">Processing</button>
							}
							@if (incident.Status == 2)
							{
								<button type="submit" asp-page-handler="InvestigationClicked" class="tag__item">Resolved</button>
							}
							
							

							
						</ul>
				</form>
				

			</div>
		</article>
		}
		
	</div>
</section>

 


